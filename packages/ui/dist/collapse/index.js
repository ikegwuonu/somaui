import {cx}from'tailwind-variants';import {useRef,useState}from'react';import {jsxs,jsx}from'react/jsx-runtime';function c(...o){return cx(...o)||""}function h(o=200,n=false){let t=useRef(null),[y,i]=useState(n),[m,p]=useState(n);function l(e){e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=`${o}ms`,e.style.boxSizing="border-box",e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,i(()=>false),window.setTimeout(()=>{e.style.display="none",e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),p(()=>false);},o);}function r(e){e.style.removeProperty("display");let{display:s}=window.getComputedStyle(e);s==="none"&&(s="block"),e.style.display=s;let d=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.boxSizing="border-box",e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=`${o}ms`,e.style.height=`${d}px`,e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),i(()=>true),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),p(()=>true);},o);}function a(){let e=t.current;window.getComputedStyle(e).display==="none"?r(e):l(e);}return {open:y,targetEl:t,openTargetEl:m,slideUp:l,slideDown:r,toggle:a}}function u({as:o="div",header:n,duration:t,defaultOpen:y=false,panelClassName:i,className:m,children:p}){let{open:l,openTargetEl:r,targetEl:a,toggle:e}=h(t,y),s=o||"div",d=o!=="div"?"li":"div";return jsxs(s,{role:"collapse","aria-expanded":l,"data-testid":"collapse-parent",className:c("somaui-collapse-root",m),children:[n({open:l,toggle:e}),jsx(d,{ref:a,className:c("somaui-collapse-panel",i),style:r?{display:"block"}:{display:"none"},children:p})]})}u.displayName="Collapse";export{u as Collapse};