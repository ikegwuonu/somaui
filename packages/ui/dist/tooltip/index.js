import {useState,useRef}from'react';import {useFloating,autoUpdate,arrow,offset,flip,shift,useInteractions,useHover,useFocus,useRole,useDismiss,useTransitionStyles,FloatingPortal,FloatingArrow}from'@floating-ui/react';import {tv,cx}from'tailwind-variants';import {jsxs,Fragment,jsx}from'react/jsx-runtime';function l(...o){return cx(...o)||""}var K=tv({base:"text-center z-[9999] min-w-max rounded-[var(--border-radius)] border-[length:var(--border-width)] drop-shadow-[0px_8px_24px_rgba(149,157,165,0.2)]",variants:{size:{sm:"px-2.5 py-1 text-xs",md:"px-3 py-1.5 text-sm",lg:"px-3.5 py-2 text-base"},color:{primary:"",invert:"",secondary:"",danger:"",info:"",success:"",warning:""}},compoundVariants:[{color:"primary",class:"text-primary-foreground bg-primary border-transparent"},{color:"invert",class:"bg-background dark:bg-muted/80 dark:backdrop-blur-3xl border-border"},{color:"secondary",class:"text-secondary-foreground bg-secondary border-transparent"},{color:"danger",class:"text-white bg-red border-transparent"},{color:"info",class:"text-white bg-blue border-transparent"},{color:"success",class:"text-white bg-green border-transparent"},{color:"warning",class:"text-white bg-orange border-transparent"}],defaultVariants:{size:"md",color:"primary"}}),L=tv({variants:{color:{primary:"fill-primary",invert:"fill-background dark:fill-muted/80 [&>path]:stroke-muted dark:backdrop-blur-3xl",secondary:"fill-secondary",danger:"fill-red",info:"fill-blue",success:"fill-green",warning:"fill-orange"}},defaultVariants:{color:"primary"}}),Q={fadeIn:{initial:{opacity:0},close:{opacity:0}},zoomIn:{initial:{opacity:0,transform:"scale(0.96)"},close:{opacity:0,transform:"scale(0.96)"}},slideIn:{initial:{opacity:0,transform:"translateY(4px)"},close:{opacity:0,transform:"translateY(4px)"}}};function d({children:o,content:m,gap:f=8,animation:y="zoomIn",placement:g="top",size:u="md",color:r="primary",className:b,arrowClassName:x,showArrow:w=true}){let[a,h]=useState(false),n=useRef(null),{x:P,y:k,refs:s,strategy:v,context:t}=useFloating({placement:g,open:a,onOpenChange:h,middleware:[arrow({element:n}),offset(f),flip(),shift({padding:8})],whileElementsMounted:autoUpdate}),{getReferenceProps:R,getFloatingProps:T}=useInteractions([useHover(t),useFocus(t),useRole(t,{role:"tooltip"}),useDismiss(t)]),{isMounted:V,styles:N}=useTransitionStyles(t,{duration:{open:150,close:150},...Q[y]}),i=o,z=R({ref:s.setReference,...i.props});return jsxs(Fragment,{children:[jsx(i.type,{...z}),(V||a)&&jsx(FloatingPortal,{children:jsxs("div",{role:"tooltip",ref:s.setFloating,className:l("somaui-tooltip",K({size:u,color:r,className:b})),style:{position:v,top:k??0,left:P??0,...N},...T(),children:[m,w&&jsx(FloatingArrow,{ref:n,context:t,"data-testid":"tooltip-arrow",className:L({color:r,className:x}),style:{strokeDasharray:"0,14, 5"}})]})})]})}d.displayName="Tooltip";export{d as Tooltip};