import {a as a$1}from'./chunk-MTJTCU3H.js';import {useState,useRef,useMemo,useEffect}from'react';import {jsx}from'react/jsx-runtime';var T=t=>{if(!t)return {top:0,left:0};let{top:e,left:n}=t.getBoundingClientRect();return {top:e,left:n}},r={top:-1e3,left:-1e3,right:-1e3,width:0,height:0,elementTop:-1e3},a=(t,e)=>{if(!t)return r;let n=e?e():null,o=n||document.documentElement,{top:i,left:l}=T(n);return {...t,width:t.width||t.right-t.left,height:t.height||t.top-t.bottom,top:t.bottom+o.scrollTop-i,left:t.left+o.scrollLeft-l,elementTop:t.top+o.scrollTop-i}},f=t=>t?t.top===r.top&&t.left===r.left:true,v=(t,e)=>{if(!t||!t.current)return r;let n=t.current.getBoundingClientRect();return a(n,e)},M=(t,e)=>{let n=t?.target?.getBoundingClientRect();return n?a(n,e):r},b=t=>typeof t?.target>"u",j=t=>{let[e,n]=useState(t||r);return {rect:e,setRect:(i,l)=>{if(b(i))return n(v(i,l));n(M(i,l));}}};var L=t=>{let e=useRef(null);return useEffect(()=>{e.current=t;}),e?e.current:null},m=L;function V({rect:t,visible:e,hoverHeightRatio:n=1,hoverWidthRatio:o=1,activeOpacity:i=.8,className:l,...h}){let g=useRef(null),R=m(f(t)),s=useMemo(()=>{let u=t.width*o,c=t.height*n;return {width:`${u}px`,left:`${t.left+(t.width-u)/2}px`,height:`${c}px`,top:`${t.elementTop+(t.height-c)/2}px`,transition:R?"opacity":"opacity, width, left, top"}},[t,o,n]);return jsx("span",{ref:g,className:a$1("highlight bg-muted/60 absolute -z-1 rounded-md transition",e?"opacity-100":"opacity-0",l),style:{width:s.width,left:s.left,height:s.height,top:s.top,transitionProperty:s.transition},...h})}export{j as a,V as b};