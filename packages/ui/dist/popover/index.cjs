'use strict';var chunkPSZ4TFJ7_cjs=require('../chunk-PSZ4TFJ7.cjs'),react=require('react'),react$1=require('@floating-ui/react'),jsxRuntime=require('react/jsx-runtime'),tailwindVariants=require('tailwind-variants');var H={fadeIn:{initial:{opacity:0},close:{opacity:0}},zoomIn:{initial:{opacity:0,transform:"scale(0.96)"},close:{opacity:0,transform:"scale(0.96)"}},slideIn:{initial:{opacity:0,transform:"translateY(4px)"},close:{opacity:0,transform:"translateY(4px)"}}},w=react.createContext(null);function h({value:e,children:r}){let{isOpen:o,setIsOpen:t,gap:n,animation:a,placement:c}=e,s=react.useRef(null),[i,l]=react.useState(false),{x:m,y:v,refs:y,strategy:u,context:p}=react$1.useFloating({placement:c,open:o??i,onOpenChange:t??l,middleware:[react$1.arrow({element:s}),react$1.offset(n),react$1.flip(),react$1.shift({padding:8})],whileElementsMounted:react$1.autoUpdate}),{getReferenceProps:f,getFloatingProps:g}=react$1.useInteractions([react$1.useRole(p,{role:"tooltip"}),react$1.useDismiss(p),react$1.useClick(p,{enabled:true})]),{isMounted:b,styles:x}=react$1.useTransitionStyles(p,a?{duration:{open:150,close:150},...H[a]}:void 0);return jsxRuntime.jsx(w.Provider,{value:{open:o??i,setOpen:t??l,isMounted:b,styles:x,getReferenceProps:f,getFloatingProps:g,x:m,y:v,refs:y,strategy:u,arrowRef:s,context:p,...e},children:r})}function d(){let e=react.useContext(w);if(!e)throw new Error("usePopover must be used within a PopoverProvider");return e}function N({children:e}){let{getReferenceProps:r,refs:o}=d(),t=e,n=r({ref:o.setReference,...t.props});return jsxRuntime.jsx(t.type,{...n})}var W=tailwindVariants.tv({base:"z-[9999] min-w-max bg-background dark:bg-muted/80 dark:backdrop-blur-3xl border-[length:var(--border-width)] border-border rounded-[var(--border-radius)] shadow-[0px_8px_24px_rgba(149,157,165,0.2)]",variants:{size:{sm:"p-2.5",md:"p-4",lg:"p-5"}},defaultVariants:{size:"md"}}),X=tailwindVariants.tv({base:"fill-background dark:fill-muted/80 [&>path]:stroke-muted"});function R({children:e,className:r}){let{open:o,setOpen:t,strategy:n,isMounted:a,x:c,y:s,refs:i,styles:l,arrowRef:m,context:v,enableOverlay:y,showArrow:u,getFloatingProps:p,size:f,arrowClassName:g,overlayClassName:b}=d();if(!a&&!o)return null;let x=()=>typeof e=="function"&&t?e({open:o,setOpen:t}):e;return jsxRuntime.jsxs(react$1.FloatingPortal,{children:[y&&jsxRuntime.jsx("div",{className:chunkPSZ4TFJ7_cjs.a("somaui-popover-overlay","fixed inset-0 z-9998 cursor-pointer bg-black/60 transition-opacity duration-200",!o&&"opacity-0",b),children:jsxRuntime.jsx("span",{className:"sr-only",children:"popover overlay"})}),jsxRuntime.jsxs("div",{role:"popover",ref:i.setFloating,className:W({size:f,className:r}),style:{position:n,top:s??0,left:c??0,...l},...p(),children:[x(),u&&jsxRuntime.jsx(react$1.FloatingArrow,{ref:m,context:v,"data-testid":"popover-arrow",className:X({className:g}),style:{strokeDasharray:"0,14, 5"}})]})]})}R.displayName="PopoverContent";function P({isOpen:e,setIsOpen:r,gap:o=8,animation:t="zoomIn",placement:n="bottom",enableOverlay:a=false,showArrow:c=true,size:s="md",arrowClassName:i,overlayClassName:l,children:m}){return jsxRuntime.jsx(h,{value:{isOpen:e,setIsOpen:r,gap:o,animation:t,enableOverlay:a,showArrow:c,placement:n,size:s,arrowClassName:i,overlayClassName:l},children:m})}P.Trigger=N;P.Content=R;P.displayName="Popover";exports.Popover=P;