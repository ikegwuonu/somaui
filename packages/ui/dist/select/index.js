import {b as b$1,a as a$1}from'../chunk-W5GEZT5G.js';import {b as b$2,a as a$2}from'../chunk-45KJTAK6.js';import'../chunk-VA57PCYD.js';import {a}from'../chunk-FRVM5LHZ.js';import {useState,useCallback,useMemo}from'react';import {Listbox,Label,ListboxButton,ListboxOptions,ListboxOption}from'@headlessui/react';import {tv}from'tailwind-variants';import {jsxs,jsx}from'react/jsx-runtime';function U(e){return jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:e.strokeWidth??1.5,stroke:"currentColor",...e,children:jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})}function j(e){return jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...e,children:jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})}function N(e){return typeof e=="string"||e instanceof String}function b(e){return typeof e=="number"&&isFinite(e)}function O(e){return e==null?true:typeof e=="string"||Array.isArray(e)?e.length===0:typeof e=="object"?Object.keys(e).length===0:false}var _=(e,a)=>{let s=a!==void 0,[l,i]=useState(e);return [s?a:l,m=>{s||i(m);}]},P={top:"top",right:"right",bottom:"bottom",left:"left","top-start":"top start","top-end":"top end","bottom-start":"bottom start","bottom-end":"bottom end","right-start":"right start","right-end":"right end","left-start":"left start","left-end":"left end"};function C(e){(!["ArrowUp","ArrowDown","Enter","Home","End","Escape"].includes(e.key)||e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)&&e.stopPropagation();}function Q(e,a,s,l){return useMemo(()=>l?e:e.filter(i=>{let u=i[s];return u?String(u).toLowerCase().includes(a.toLowerCase()):false}),[a,e,l,s])}function q(e){return e}function J({value:e,label:a}){return a||e||"Error: use getOptionDisplayValue prop"}function X(e){return N(e)||b(e)?e:e?.label?e.label:e?.name?e.name:e?.value?e.value:String(e)}var T={base:"z-[999] border-[length:var(--border-width)] border-border bg-background !p-1.5 focus-visible:outline-none dark:bg-muted/80 dark:backdrop-blur-sm rounded-[var(--border-radius)]",shadow:"shadow-[0px_8px_24px_rgba(149,157,165,0.2)]"};var p={base:`${T.base} overflow-auto w-[var(--button-width)] !outline-none !ring-0 m-0 [&>li]:!m-0 [scrollbar-width:thin] [scrollbar-color:rgba(0,0,0,0.2)_rgba(0,0,0,0)] [-ms-overflow-style:none] [&::-webkit-scrollbar-track]:shadow-none [&::-webkit-scrollbar-track]:bg-transparent [&::-webkit-scrollbar]:bg-transparent [&::-webkit-scrollbar]:w-[5px] [&::-webkit-scrollbar-thumb]:bg-muted [&::-webkit-scrollbar-thumb]:rounded-lg data-[open]:opacity-100 data-[leave]:data-[closed]:opacity-100`,shadow:T.shadow,item:{size:{sm:"text-xs",md:"text-sm",lg:"text-base"}},inPortal:"[--anchor-max-height:256px]",notInPortal:"absolute z-10 h-[256px] start-0 top-full mt-1.5"},c={base:"relative mb-2 block group [&.sticky]:mb-0",inputBase:"px-10 placeholder:text-muted-foreground",prefix:"absolute z-10 start-1 top-5 group-[.sticky]:top-7 inline-block -translate-y-1/2 whitespace-nowrap leading-normal text-muted-foreground",suffix:"absolute z-10 end-1 top-5 group-[.sticky]:top-7 inline-block -translate-y-1/2 whitespace-nowrap leading-normal text-muted-foreground",stickySearch:"sticky top-0 z-10 bg-background pt-2 -translate-y-2"};var Y=tv({base:"flex group items-center peer border-[length:var(--border-width)] hover:border-primary w-full transition duration-200 hover:ring-primary focus:border-primary focus:ring-[0.8px] focus:ring-primary rounded-[var(--border-radius)]",variants:{variant:{text:"border-transparent ring-transparent bg-transparent",outline:"border-border ring-border bg-transparent"},size:{sm:"px-2 py-1 text-xs h-8",md:"px-3 py-2 text-sm h-10",lg:"px-4 py-2 text-base h-12"},disabled:{true:"!bg-muted/70 backdrop-blur cursor-not-allowed !border-muted text-muted-foreground placeholder:text-muted-foreground !ring-muted"},error:{true:"!border-red hover:!border-red focus:!border-red !ring-red"},hasPrefix:{true:""},hasSuffix:{true:""}},compoundVariants:[{hasPrefix:true,class:"ps-2.5"},{hasSuffix:true,class:"pe-2.5"}],defaultVariants:{variant:"outline",size:"md"}});function Z({label:e,labelWeight:a$3="medium",error:s,options:l,disabled:i,autoFocus:u,helperText:x,prefix:m=null,placeholder:ee="Select...",inPortal:f=true,modal:te=false,displayValue:re=X,getOptionDisplayValue:oe=J,getOptionValue:L=q,getOptionValueKey:S,value:w,defaultValue:ae,onChange:I,onClear:E,clearable:se,placement:ne="bottom-start",gap:ie=6,size:n="md",variant:R="outline",suffix:g=jsx(U,{strokeWidth:"2",className:"size-4"}),searchable:le,searchType:pe,searchProps:ce,stickySearch:de,searchPrefix:F=jsx(j,{strokeWidth:"2",className:"size-4"}),searchSuffix:A=null,searchDisabled:H,searchReadOnly:ue,onSearchChange:me,searchPlaceHolder:be="Search...",className:fe,searchByKey:ge="label",labelClassName:ye,selectClassName:he,optionClassName:xe,suffixClassName:Se,prefixClassName:we,errorClassName:ve,helperClassName:ke,searchClassName:Ne,dropdownClassName:Oe,disableDefaultFilter:Pe,searchPrefixClassName:Ce,searchSuffixClassName:Te,searchContainerClassName:Ve,...Le}){let[Ie,z]=_(ae,w),[B,K]=useState(""),y=w!==void 0?w:Ie,h=!b(y)&&O(y),Ee=Q(l,B,ge,Pe),Re=useCallback(t=>{t?.stopPropagation(),K(""),E?.(t);},[E]),Fe=useCallback(t=>{z(t),I?.(t);},[I,z]),Ae=useCallback(t=>S?t[S]:L(t),[L,S]);return jsxs("div",{className:a("somaui-select-root","grid w-full grid-cols-1",fe),children:[jsx(Listbox,{value:y,onChange:Fe,disabled:i,...Le,children:jsxs("div",{className:"contents",children:[e&&jsx(Label,{className:a("somaui-select-label","block",b$1.size[n],b$1.weight[a$3],i&&"text-muted-foreground",ye),children:e}),jsxs("div",{className:a(!f&&"relative"),children:[jsxs(ListboxButton,{className:Y({variant:R,size:n,disabled:i,error:!!(s&&h),hasPrefix:!!m,hasSuffix:!!g,className:he}),autoFocus:u,children:[m&&jsx("span",{className:a("somaui-select-prefix","block leading-normal whitespace-nowrap",we),children:m}),jsx("span",{className:a("somaui-select-value","block w-full truncate text-left rtl:text-right",h&&"text-muted-foreground"),children:h?ee:re(y)}),se&&!h&&jsx(a$1,{as:"span",size:n,onClick:Re,hasSuffix:!!g}),g&&jsx("span",{className:a("somaui-select-suffix","leading-normal whitespace-nowrap transition-transform duration-200 group-data-open:rotate-180",Se),children:g})]}),jsxs(ListboxOptions,{modal:te,portal:f,...f&&{anchor:{to:P[ne],gap:ie}},className:a("somaui-select-options",p.base,p.shadow,f?p.inPortal:p.notInPortal,Oe),children:[le&&jsxs("div",{className:a(c.base,de&&c.stickySearch,Ve),children:[F&&jsx("span",{className:a("somaui-select-prefix",c.prefix,Ce),children:F}),jsx("input",{type:pe,spellCheck:false,value:B,disabled:H,readOnly:ue,placeholder:be,onChange:t=>{K(t.target.value),me?.(t.target.value);},onKeyDown:t=>C(t),className:Y({variant:R,size:n,disabled:H,className:a(c.inputBase,Ne)}),...ce}),A&&jsx("span",{className:a("somaui-select-suffix",c.suffix,Te),children:A})]}),Ee.map(t=>jsx(ListboxOption,{...t?.disabled&&{disabled:t?.disabled},className:({focus:v})=>a("somaui-select-option","flex w-full items-center px-3 py-1.5",v&&"bg-muted/70","rounded-[calc(var(--border-radius)/2)]",n&&p.item.size[n],!t?.disabled&&"cursor-pointer",xe),value:Ae(t),children:({selected:v})=>jsx("div",{className:a(v?"font-medium":"text-foreground"),children:oe(t)})},t.value))]})]})]})}),!s&&x&&jsx(b$2,{size:n,className:ke,children:x}),s&&jsx(a$2,{size:n,error:s,className:ve})]})}Z.displayName="Select";
export{Z as Select};