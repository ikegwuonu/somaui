'use strict';var chunkVTA6T6UH_cjs=require('../chunk-VTA6T6UH.cjs'),chunkOS6E7JMG_cjs=require('../chunk-OS6E7JMG.cjs'),react=require('react'),tailwindVariants=require('tailwind-variants'),jsxRuntime=require('react/jsx-runtime');var H=tailwindVariants.tv({base:"flex flex-row",variants:{center:{true:"justify-center align-center",false:""}},defaultVariants:{center:false}}),S=tailwindVariants.tv({base:"block peer text-center bg-transparent mr-2 focus:placeholder:opacity-0 focus:outline-none transition duration-200 rounded-[var(--border-radius)] border-[length:var(--border-width)]",variants:{variant:{flat:"focus:ring-[1.8px] border-0 placeholder:opacity-90 bg-muted/70 backdrop-blur focus:ring-primary focus:enabled:bg-transparent",outline:"bg-transparent focus:ring-[0.8px] ring-border border-border placeholder:text-gray-500 hover:enabled:border-primary focus:enabled:border-primary focus:ring-primary"},size:{sm:"px-1 py-1 h-8 w-8 text-sm",md:"px-2 py-2 h-10 w-10 text-base",lg:"px-2 py-2 h-12 w-12 text-lg"},disabled:{true:"disabled:bg-muted/70 disabled:backdrop-blur disabled:placeholder:text-muted-foreground disabled:text-muted-foreground disabled:cursor-not-allowed disabled:border-muted"},error:{true:"border-red hover:enabled:!border-red focus:enabled:!border-red !ring-red"}},defaultVariants:{variant:"outline",size:"md"}});function h({type:s="text",defaultValue:p,mask:P=false,length:n=4,setValue:x,center:f=true,size:b="md",variant:E="outline",placeholder:V="\u25CB",error:i,className:w,inputClassName:k,errorClassName:D,disabled:L,onChange:R,label:I,...m}){let t=react.useRef([]);function M(r){return e=>{e&&(t.current[r]=e);}}function l(){x?.(t.current.map(r=>r.value).join(""));}function N(r,e){let a=r.target.value.split("");t.current[e].value=a[a.length-1],e<n-1&&t.current[e+1].focus(),l();}function T(r,e){let a=t.current[e].value;if(r.key==="ArrowRight"&&e<n-1&&t.current[e+1].focus(),r.key==="ArrowLeft"&&e>0&&t.current[e-1].focus(),r.key==="Backspace"){if(a!=="")t.current[e].value="";else {if(e===0)return;t.current[e-1].value="",t.current[e-1].focus();}l();}}function z(r,e){r.preventDefault();let d=r.clipboardData.getData("text").replace(/\D/g,"").split("");for(let o=0;o<n-e&&o<d.length;o+=1)t.current[e+o]&&(t.current[e+o].value=d[o]??"");let y=Math.min(e+d.length-1,n-1);t.current[y]&&t.current[y].focus(),l();}let g=I||`Pin code, ${n} digits`;return jsxRuntime.jsxs("div",{className:chunkOS6E7JMG_cjs.a("somaui-pin-code-root","flex flex-col",w),children:[jsxRuntime.jsx("div",{role:"group","aria-label":g,"aria-invalid":i?"true":void 0,"aria-required":m.required,className:H({center:f}),children:Array.from({length:n},(r,e)=>jsxRuntime.jsx("input",{ref:M(e),type:s,inputMode:s==="text"?"text":"numeric",pattern:s==="number"?"[0-9]*":void 0,maxLength:1,defaultValue:p?p.toString().split("")[e]:"",autoCapitalize:"off",autoCorrect:"off",autoComplete:"one-time-code",placeholder:V,"aria-invalid":i?"true":void 0,"aria-label":`${g}, digit ${e+1} of ${n}`,onChange:a=>N(a,e),onKeyDown:a=>T(a,e),onPaste:a=>z(a,e),className:S({variant:E,size:b,disabled:L,error:!!i,className:chunkOS6E7JMG_cjs.a(P&&"[-moz-text-security:circle] [-webkit-text-security:disc] [text-security:circle]",k)}),...m},e))}),i&&jsxRuntime.jsx(chunkVTA6T6UH_cjs.a,{size:b,error:i,className:chunkOS6E7JMG_cjs.a("somaui-pin-code-error-text",f&&"flex justify-center",D)})]})}h.displayName="PinCode";exports.PinCode=h;