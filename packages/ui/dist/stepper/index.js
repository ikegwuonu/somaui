import {a as a$1}from'../chunk-BVJQ3HCT.js';import {a as a$2}from'../chunk-2M7YU2YN.js';import {a}from'../chunk-FRVM5LHZ.js';import {createContext,useRef,useId,useContext}from'react';import {jsx,jsxs}from'react/jsx-runtime';var u={base:"somaui-step-line absolute w-full group-last:hidden block h-px",top:{noDot:{sm:"top-[22px]",md:"top-6",lg:"top-[26px]"},dot:{sm:"top-[14px]",md:"top-4",lg:"top-[18px]"}},titleLine:"block h-px flex-auto group-last:hidden",color:{primary:"bg-primary",secondary:"bg-secondary",danger:"bg-red",info:"bg-blue",success:"bg-green",warning:"bg-orange"}},b={base:"z-10 inline-flex items-center justify-center rounded-full text-sm font-medium",size:{sm:"h-7 w-7 mt-0.5",md:"h-8 w-8",lg:"h-9 w-9"},waiting:"border border-border bg-white dark:bg-gray-50 text-gray-500",variant:{solid:{base:"text-gray-50 shadow-lg",color:{primary:"bg-primary",secondary:"bg-secondary",danger:"bg-red",info:"bg-blue",success:"bg-green",warning:"bg-orange"}},outline:{base:"border dark:bg-gray-50 bg-white shadow-lg",color:{primary:"text-primary border-primary",secondary:"text-secondary border-secondary",danger:"text-red border-red",info:"text-blue border-blue",success:"text-green border-green",warning:"text-orange border-orange"}}}},S={base:"indent-[-9999px] overflow-hidden mt-1.5",waiting:"bg-gray-300",size:{sm:"h-3 w-3 !mt-2",md:"h-4 w-4",lg:"h-5 w-5"}};function F(r,a,s){return !s&&a==="error"?jsx(a$1,{className:"h-5 w-5"}):!s&&a==="completed"?jsx(a$2,{className:"h-5 w-5"}):r+1}function k({title:r,description:a$1,icon:s,index:g,status:C,size:n="md",variant:d="solid",color:p="primary",dot:N,className:i,circleClassName:c,contentClassName:x,titleClassName:h,descriptionClassName:v}){let w=useId(),e;try{e=z();}catch{e=null;}let f=e?e.registerStep(w):g??0,m=e?e.dot:N,o=C||(e?((D,P)=>P===D?"in-progress":P<D?"completed":"waiting")(e.currentIndex,f):"waiting"),E=e?a(e.getStepClassName(n),i):i,j=e?a(e.getCircleClassName(),c):c,O=e?a(e.getContentClassName(),x):x,X=e?.titleClassName||h,q=e?.descriptionClassName||v;return jsxs("div",{className:a("somaui-step-root","group relative flex flex-1 last:flex-none",E),children:[jsx("div",{className:a("somaui-step-line",u.base,m?u.top.dot[n]:u.top.noDot[n],o==="completed"?u.color[p]:"bg-muted")}),jsx("div",{className:a("somaui-step-circle",b.base,m&&S.base,m?S.size[n]:b.size[n],o==="waiting"?b.waiting:a(b.variant[d].base,b.variant[d].color[p]),m&&o==="waiting"&&S.waiting,j),children:!m&&s||F(f,o,m)}),jsxs("div",{className:a("somaui-step-container","mt-0.5 ml-3 flex flex-1 flex-col",O),children:[jsxs("span",{className:"somaui-step-title flex items-center justify-center group-last:inline-block",children:[jsx("h2",{className:a("somaui-step-title","me-2 mb-0! text-base font-medium",o==="waiting"?"text-gray-500":"text-gray-900",X),children:r}),jsx("span",{className:a(u.titleLine,o==="completed"?u.color[p]:"bg-muted")})]}),a$1&&jsx("span",{className:a("somaui-step-description","somaui-step-description",o==="in-progress"?"text-gray-900":"text-gray-500",q),children:a$1})]})]})}k.displayName="Step";var y={line:"[&>.somaui-step-line]:hidden",verticalLine:{base:"[&>.somaui-step-line]:h-full [&>.somaui-step-line]:w-px min-h-[100px] last:min-h-0",left:{noDot:{sm:"[&>.somaui-step-line]:left-3 rtl:[&>.somaui-step-line]:right-3",md:"[&>.somaui-step-line]:left-3.5 rtl:[&>.somaui-step-line]:right-3.5",lg:"[&>.somaui-step-line]:left-4 rtl:[&>.somaui-step-line]:right-4"},dot:{sm:"[&>.somaui-step-line]:left-[5px] rtl:[&>.somaui-step-line]:right-[5px]",md:"[&>.somaui-step-line]:left-2 rtl:[&>.somaui-step-line]:right-2",lg:"[&>.somaui-step-line]:left-2.5 rtl:[&>.somaui-step-line]:right-2.5"}}}},K={base:"[&>.somaui-step-title]:justify-start [&>.somaui-step-title>span]:hidden"},A=createContext(null);function z(){let r=useContext(A);if(!r)throw new Error("useStepper must be used within a Stepper component");return r}function R({currentIndex:r=0,children:a$1,direction:s="horizontal",dot:g=false,className:C,titleClassName:n,dotClassName:d,contentClassName:p,descriptionClassName:N}){let i=useRef(new Map),c=useRef([]);i.current.clear(),c.current=[];let x=e=>{if(!i.current.has(e)){let f=c.current.length;return c.current.push(e),i.current.set(e,f),f}return i.current.get(e)},h=e=>a(s==="horizontal"&&y.line,s==="vertical"&&y.verticalLine.base,s==="vertical"&&(g?y.verticalLine.left.dot[e]:y.verticalLine.left.noDot[e])),v=()=>a(g&&s==="vertical"&&"mt-1.5",d),w=()=>a(s==="vertical"&&K.base,p);return jsx(A.Provider,{value:{currentIndex:r,direction:s,dot:g,dotClassName:d,contentClassName:p,titleClassName:n,descriptionClassName:N,registerStep:x,getStepClassName:h,getCircleClassName:v,getContentClassName:w},children:jsx("div",{className:a("somaui-stepper-root","flex justify-between space-x-4 rtl:space-x-0",s==="vertical"&&"flex-col space-x-0",C),children:a$1})})}R.Step=k;R.displayName="Stepper";export{R as Stepper};