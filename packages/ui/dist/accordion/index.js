import {createContext,useRef,useState,useImperativeHandle,useContext}from'react';import {jsx}from'react/jsx-runtime';import {cx}from'tailwind-variants';var u=createContext(null);function f({defaultOpen:e=false,duration:t=200,children:i}){let n=useRef(null),[s,r]=useState(e),[c,d]=useState(e);function b(o){o.style.transitionProperty="height, margin, padding",o.style.transitionDuration=`${t}ms`,o.style.boxSizing="border-box",o.style.height=`${o.offsetHeight}px`,o.offsetHeight,o.style.overflow="hidden",o.style.height=0,o.style.paddingTop=0,o.style.paddingBottom=0,o.style.marginTop=0,o.style.marginBottom=0,r(()=>false),window.setTimeout(()=>{o.style.display="none",o.style.removeProperty("height"),o.style.removeProperty("padding-top"),o.style.removeProperty("padding-bottom"),o.style.removeProperty("margin-top"),o.style.removeProperty("margin-bottom"),o.style.removeProperty("overflow"),o.style.removeProperty("transition-duration"),o.style.removeProperty("transition-property"),d(()=>false);},t);}function h(o){o.style.removeProperty("display");let{display:y}=window.getComputedStyle(o);y==="none"&&(y="block"),o.style.display=y;let x=o.offsetHeight;o.style.overflow="hidden",o.style.height=0,o.style.paddingTop=0,o.style.paddingBottom=0,o.style.marginTop=0,o.style.marginBottom=0,o.offsetHeight,o.style.boxSizing="border-box",o.style.transitionProperty="height, margin, padding",o.style.transitionDuration=`${t}ms`,o.style.height=`${x}px`,o.style.removeProperty("padding-top"),o.style.removeProperty("padding-bottom"),o.style.removeProperty("margin-top"),o.style.removeProperty("margin-bottom"),r(()=>true),window.setTimeout(()=>{o.style.removeProperty("height"),o.style.removeProperty("overflow"),o.style.removeProperty("transition-duration"),o.style.removeProperty("transition-property"),d(()=>true);},t);}function T(){let o=n.current;window.getComputedStyle(o).display==="none"?h(o):b(o);}return jsx(u.Provider,{value:{isOpen:s,setIsOpen:r,targetEl:n,openTargetEl:c,toggle:T},children:i})}function l(){let e=useContext(u);if(!e)throw new Error("useAccordion must be used within a AccordionProvider");return e}function p(...e){return cx(...e)||""}function P({children:e,className:t,ref:i,...n}){let{isOpen:s,toggle:r}=l();return jsx("button",{ref:i,onClick:()=>r(),className:p("somaui-accordion-header","block w-full",t),...n,children:typeof e=="function"?e({open:s}):e})}function v({as:e="div",className:t,children:i,ref:n,...s}){let r=e||"div",{targetEl:c,openTargetEl:d}=l();return useImperativeHandle(n,()=>c.current),jsx(r,{ref:c,style:d?{display:"block"}:{display:"none"},className:p("somaui-accordion-panel",t),...s,children:i})}function m({as:e="div",defaultOpen:t,duration:i,className:n,children:s}){return jsx(f,{defaultOpen:t,duration:i,children:jsx(e||"div",{className:p("somaui-accordion-root",n),children:s})})}m.Header=P;m.Body=v;export{m as Accordion};